<div class="modal-header">
  <h4 class="modal-title">Perfil de Usuario</h4>
  <button type="button" class="btn-close" aria-label="Cerrar" (click)="close()"></button>
</div>
<div class="modal-body">
  <div *ngIf="loading" class="text-center py-3">
    <div class="spinner-border text-primary" role="status">
      <span class="visually-hidden">Cargando...</span>
    </div>
    <p class="mt-2">Cargando informaci贸n del usuario...</p>
  </div>

  <div *ngIf="error" class="alert alert-danger">
    {{ error }}
  </div>

  <div *ngIf="!loading && user" class="user-profile">
    <!-- Avatar y nombre -->
    <div class="text-center mb-4">
      <div class="avatar-container">
        <div class="avatar">
          {{ user && user.name ? user.name.charAt(0) : '' }}{{ user && user.lastName ? user.lastName.charAt(0) : '' }}
        </div>
      </div>
      <h5 class="mt-3 mb-1">{{ user && user.name ? user.name : '' }} {{ user && user.lastName ? user.lastName : '' }}</h5>
      <span class="badge role-badge" [ngClass]="{
        'role-admin': user && user.role === 'ADMIN',
        'role-user': user && user.role === 'USER',
        'role-operator': user && user.role === 'OPERATOR',
        'role-guest': user && user.role === 'GUEST'
      }">
        {{ user && user.role ? user.role : '' }}
      </span>
    </div>

    <!-- Informaci贸n de la cuenta -->
    <div class="info-section">
      <h6>Informaci贸n de la cuenta</h6>
      <div class="info-item">
        <span class="info-label">Nombre de usuario:</span>
        <span class="info-value">{{ user && user.username ? user.username : '' }}</span>
      </div>
      <div class="info-item">
        <span class="info-label">Correo electr贸nico:</span>
        <span class="info-value">{{ user && user.email ? user.email : '' }}</span>
      </div>
    </div>

    <!-- Permisos -->
    <div class="info-section">
      <h6>Permisos</h6>
      <div *ngIf="!user || !user.permissions || user.permissions.length === 0" class="text-muted">
        Este usuario no tiene permisos asignados.
      </div>
      <div *ngIf="user && user.permissions && user.permissions.length > 0" class="permissions-container">
        <span *ngFor="let permission of user.permissions" class="permission-badge">
          {{ permission }}
        </span>
      </div>
    </div>
  </div>
</div>
<div class="modal-footer">
  <button type="button" class="btn btn-secondary" (click)="close()">Cerrar</button>
</div>
